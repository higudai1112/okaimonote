<% content_for :title, "サービス管理" %>

<section class="space-y-6">

  <!-- ヘッダー -->
  <h1 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
    <span class="inline-flex items-center justify-center w-8 h-8 rounded-xl bg-orange-100 text-orange-500">
      <i class="fa-solid fa-server"></i>
    </span>
    サービス管理
  </h1>

  <!-- サービス概要 -->
  <section class="space-y-4 mt-8">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-xl bg-orange-100 text-orange-500">
        <i class="fa-solid fa-chart-pie"></i>
      </span>
      サービス概要（累積）
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5">
      <div class="bg-white rounded-2xl shadow-md border border-orange-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-orange-100 text-orange-500 text-2xl">
          <i class="fa-solid fa-users"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">総ユーザー数</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @users_count %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-orange-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-green-100 text-green-500 text-2xl">
          <i class="fa-solid fa-box"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">総商品数</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @products_count %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-orange-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-blue-100 text-blue-500 text-2xl">
          <i class="fa-solid fa-receipt"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">総価格記録数</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @price_records_count %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-orange-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-purple-100 text-purple-500 text-2xl">
          <i class="fa-solid fa-people-roof"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">ファミリー数</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @families_count %></p>
        </div>
      </div>
    </div>
  </section>

  <!-- 利用状況 -->
  <section class="space-y-4 mt-10">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-xl bg-blue-100 text-blue-500">
        <i class="fa-solid fa-bolt"></i>
      </span>
      利用状況（直近30日）
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
      <div class="bg-white rounded-2xl shadow-md border border-blue-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-blue-100 text-blue-500 text-2xl">
          <i class="fa-solid fa-user-check"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">アクティブユーザー</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @active_users_count %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-blue-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-green-100 text-green-500 text-2xl">
          <i class="fa-solid fa-chart-line"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">平均記録数 / ユーザー</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @avg_records_per_user %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-blue-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 text-2xl">
          <i class="fa-solid fa-user-slash"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">記録0件ユーザー</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @zero_record_users_count %></p>
        </div>
      </div>
    </div>
  </section>

  <!-- 将来の課金指標 -->
  <section class="space-y-4 mt-10">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-xl bg-yellow-100 text-yellow-600">
        <i class="fa-solid fa-coins"></i>
      </span>
      将来の課金指標
    </h2>

    <p class="text-xs text-gray-500">
      ※ 将来の課金機能向けの参考指標です
    </p>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
      <div class="bg-white rounded-2xl shadow-md border border-yellow-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-yellow-100 text-yellow-600 text-2xl">
          <i class="fa-solid fa-crown"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">プレミアム想定ユーザー</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @premium_candidate_users %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-yellow-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-purple-100 text-purple-500 text-2xl">
          <i class="fa-solid fa-people-group"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">家族3人以上</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @large_families_count %></p>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-md border border-yellow-100 p-5 flex items-center gap-4">
        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-indigo-100 text-indigo-500 text-2xl">
          <i class="fa-solid fa-map-location-dot"></i>
        </div>
        <div>
          <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">エリア統計対象ユーザー</p>
          <p class="mt-1 text-3xl font-bold text-gray-800"><%= @area_stat_users_count %></p>
        </div>
      </div>
    </div>
  </section>

  <!-- システム情報 -->
  <section class="space-y-3 mt-12">
    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
      <span class="inline-flex items-center justify-center w-8 h-8 rounded-xl bg-gray-100 text-gray-500">
        <i class="fa-solid fa-gear"></i>
      </span>
      システム情報
    </h2>

    <ul class="text-sm text-gray-600 space-y-1">
      <li>Rails：<%= @rails_version %></li>
      <li>Ruby：<%= @ruby_version %></li>
      <li>ENV：<%= @env %></li>
      <li>DB接続：<%= @db_connected ? "OK" : "NG" %></li>
    </ul>
  </section>
</section>
